<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        #booking{
            background-color: beige;
            width: 25%;
        }

    </style>
    <script>
        var occupancy=0;
        var tableArrJson=[{named:'Table 1',status:'Not Booked',coloring:null,visitor:null},{named:'Table 2',status:'Not Booked',coloring:null,visitor:null},{named:'Table 3',status:'Not Booked',coloring:null,visitor:null},{named:'Table 4',status:'Not Booked',coloring:null,visitor:null},{named:'Table 5',status:'Not Booked',coloring:null,visitor:null},{named:'Table 6',status:'Not Booked',coloring:null,visitor:null},{named:'Table 7',status:'Not Booked',coloring:null,visitor:null},{named:'Table 8',status:'Not Booked',coloring:null,visitor:null}];
        function loadPage(){ 
            
            for(let i=0;i<tableArrJson.length;i++){
                document.getElementById('tables').innerHTML+=`<div class="p-2 col-3"><div class="shadow text-center p-5" id='tab${i}'><h6>${tableArrJson[i].named}</h6><br>${tableArrJson[i].status}</div></div>`;
                document.getElementById('tablesPicklist').innerHTML+=`<option value="${i}">${tableArrJson[i].named}</option>`;
                document.getElementById('tab'+i).style=tableArrJson[i].coloring;
            }
        }
        function bookTable(){
            let i=document.getElementById('tablesPicklist').value;
            if(tableArrJson[i].status=='Booked'){
                if(occupancy>tableArrJson.length-1){
                    alert('all booked');
                }else{
                    alert('choose another');
                }
            }else{
           document.getElementById('tables').innerHTML='';
           document.getElementById('tablesPicklist').innerHTML='';
           tableArrJson[i].coloring='background-color:rgb(81, 231, 47)';
           tableArrJson[i].status='Booked';
           tableArrJson[i].visitor={name:document.getElementById('visitersName').value,time:document.getElementById('time').value};
           console.log(tableArrJson[i]);
           loadPage();
           
           occupancy++;
        }
    }
    </script>
</head>
<body onload="loadPage()">
    <h2>Eat Delights</h2>
    <p>Good Food Good Life!!</p>
    <div id="tables" class="row g-5">
    </div>
    <div id="booking" class="m-3 p-3">
        <label for="NameOfVistor">Visitors name</label><br>
        <input type="text" placeholder="Your name.." id="visitersName" class="form-control"><br>
        <label for="time">Time In Mins:</label><br>
        <input type="time" id="time"><br>
        <label for="Table">Table</label><br>
        <select name="Table" id="tablesPicklist" class="custom-select mb-3">
            
        </select><br>
        <Button id="book" class="btn btn-success w-100" onclick="bookTable()">Book</Button><br>
    </div>
    
</body>
</html>